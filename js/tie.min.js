/* Tie v0.1 by kmturley */
var tie=function(){"use strict";var e={attrib:"data-tie",init:function(e,t){this.data=e;if(t){this.setup(e,document.getElementById(t).getElementsByTagName("*"))}else{this.setup(document.body.getElementsByTagName("*"))}},setup:function(e){var t=0,n=0,r="",i={},s="",o=null,u="",a,f,l=false;for(t=0;t<e.length;t+=1){a=e[t];f=a.tagName.toLowerCase();if(f=="script"||f=="link")continue;if(a.hasAttribute(this.attrib)){r=a.getAttribute(this.attrib);i=this.find(r);s=Object.prototype.toString.call(i.value);if(s==="[object Array]"){o=document.createDocumentFragment();u=a.firstElementChild.getAttribute(this.attrib);l=false;for(n=0;n<i.value.length;n+=1){l=a.firstElementChild.cloneNode(true);l.innerHTML=l.innerHTML.replace(/\[i\]/g,"."+n);o.appendChild(l)}a.removeChild(a.firstElementChild);a.appendChild(o)}else if(s==="[object String]"||s==="[object Number]"){Object.defineProperty(i.parent,i.key,this.getset(a,i.key,i.value));switch(f){case"img":case"iframe":a.src=i.value;break;case"input":case"textarea":a.value=i.value;break;default:a.textContent=i.value}}}}},find:function(e){var t="",n={},r=e.split(".").reduce(function(e,i){if(e[i]){t=i;n=e;r=e[i];return r}else{return false}},this.data);return{value:r,parent:n,key:t}},getset:function(e,t,n){return{set:function(t){n=t;e.textContent=t},get:function(){return n}}}};var t=document.body.getAttribute(e.attrib);if(t&&window[t]){e.init(window[t])}return e}()
